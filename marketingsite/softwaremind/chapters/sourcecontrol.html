

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Source Control &#8212; TheDevManual 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/devmanual.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="TheDevManual 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="Key pairs and GPG" href="keypairs.html" />
    <link rel="prev" title="&lt;no title&gt;" href="statistics.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="source-control">
<h1>Source Control<a class="headerlink" href="#source-control" title="Permalink to this headline">¶</a></h1>
<div class="section" id="history">
<h2>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<p>BAML vs Sourcesafe vs SVN vs CVS</p>
<p>Basic practises</p>
<ul class="simple">
<li>add / commit</li>
<li>Aliases</li>
</ul>
<div class="section" id="different-flows-for-diffent-folks">
<h3>Different Flows for diffent folks<a class="headerlink" href="#different-flows-for-diffent-folks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>githubflow vs gitflow vs gits own approach</li>
<li>git rebase and at-risk branches</li>
</ul>
</div>
<div class="section" id="good-commit-messages">
<h3>Good Commit Messages<a class="headerlink" href="#good-commit-messages" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="git-commit-messages">
<h2>Git Commit messages<a class="headerlink" href="#git-commit-messages" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p>Any software project is a collaborative project. It has at least two
developers, the original developer and the original developer a few weeks or
months later</p>
<p class="attribution">&mdash;Peter Hutterer &lt;<a class="reference external" href="http://www.blogger.com/profile/17204066043271384535">http://www.blogger.com/profile/17204066043271384535</a>&gt;</p>
</div></blockquote>
<blockquote class="epigraph">
<div><p>The difference between a tolerable programmer and a great programmer is
[...] whether they can communicate their ideas. By persuading other people,
they get leverage. By writing clear comments and technical specs, they let
other programmers understand their code, which means other programmers can
use and work with their code instead of rewriting it. Absent this, their
code is worthless.</p>
<p class="attribution">&mdash;Joel Spolsky &lt;<a class="reference external" href="http://www.joelonsoftware.com/articles/CollegeAdvice.html">http://www.joelonsoftware.com/articles/CollegeAdvice.html</a>&gt;</p>
</div></blockquote>
<div class="section" id="what-does-a-good-commit-message-look-like">
<h3>What does a good commit message look like?<a class="headerlink" href="#what-does-a-good-commit-message-look-like" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Scope</span><span class="p">:</span> <span class="n">Subject</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">imperative</span> <span class="n">tense</span> <span class="ow">and</span> <span class="n">less</span> <span class="n">than</span> <span class="mi">50</span> <span class="n">chars</span>

<span class="n">Body</span> <span class="n">text</span> <span class="k">with</span> <span class="n">why</span> <span class="n">we</span> <span class="n">needed</span> <span class="n">to</span> <span class="n">do</span> <span class="n">this</span><span class="p">,</span>
<span class="n">how</span> <span class="n">this</span> <span class="n">works</span> <span class="n">at</span> <span class="n">a</span> <span class="n">high</span> <span class="n">level</span>
<span class="ow">and</span> <span class="nb">any</span> <span class="n">side</span><span class="o">-</span><span class="n">effects</span> <span class="n">we</span> <span class="n">know</span> <span class="n">of</span> <span class="ow">or</span> <span class="n">predict</span><span class="o">.</span>
<span class="n">Do</span> <span class="ow">not</span> <span class="n">exceed</span> <span class="mi">72</span> <span class="n">chars</span> <span class="n">on</span> <span class="n">these</span> <span class="n">lines</span><span class="p">,</span> <span class="n">because</span> <span class="mi">4</span> <span class="n">chars</span> <span class="n">indent</span><span class="p">,</span> <span class="n">will</span>
<span class="n">catch</span> <span class="n">you</span> <span class="n">a</span> <span class="n">lot</span><span class="o">.</span>

<span class="p">[</span><span class="n">tags</span> <span class="k">for</span> <span class="n">closing</span> <span class="n">bugs</span> <span class="n">etc</span><span class="o">.</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="the-rules-for-git-commit-messages">
<h3>The rules for git commit messages<a class="headerlink" href="#the-rules-for-git-commit-messages" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Put a subject line as the first line, followed by a blank line then the body.</p>
<p>Git grew out of the <a class="reference external" href="http://lkml.org">Linux Kernel Mailing List</a></p>
</li>
<li></li>
</ol>
<p>The two rules not to break:</p>
<p>Never have two lines of text at the top.  Always have one line then
blank line and body, or one line only.</p>
<p>Never exceed 72 chars per line.</p>
<p>The one rule to rarely break:</p>
<p>Always have 50 chars in the subject line</p>
<p>For your own sanity, make your project history clear, your documentation good.</p>
<p>Business justification: good code practises save time and money.</p>
</div>
<div class="section" id="commits-and-user-stories">
<h3>Commits and User Stories<a class="headerlink" href="#commits-and-user-stories" title="Permalink to this headline">¶</a></h3>
<p>My view is that in an Agile environment, User Stories should be about the
same size as a commit.  That is if there is a User Story:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">2014.32</span><span class="o">.</span><span class="mi">16</span> <span class="p">(</span><span class="mi">16</span><span class="n">th</span> <span class="n">sprint</span> <span class="n">backlog</span> <span class="n">item</span> <span class="ow">in</span> <span class="mi">32</span><span class="n">nd</span> <span class="n">sprint</span> <span class="ow">in</span> <span class="mi">2014</span><span class="p">)</span>

<span class="n">As</span> <span class="n">the</span> <span class="n">Sales</span> <span class="n">Manager</span><span class="p">,</span> <span class="ow">in</span> <span class="n">order</span> <span class="n">to</span> <span class="n">motivate</span> <span class="n">my</span> <span class="n">team</span><span class="p">,</span>
<span class="n">the</span> <span class="n">weekly</span> <span class="n">sales</span> <span class="n">report</span> <span class="n">must</span> <span class="n">be</span> <span class="n">ordered</span> <span class="n">by</span> <span class="n">total</span> <span class="n">revenue</span>
<span class="ow">in</span> <span class="n">USD</span><span class="o">.</span>
</pre></div>
</div>
<p>Then I should expect to see a commit history like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git log --pretty=format:&quot;%s&quot;
reporting: Order RW23 (weekly sales) by total rev USD
reporting: Add function to convert sales.revenue to USD
externalapis: Store daily GBP -&gt; USD conversion rates
reporting: Clean up code to PEP8 standards
</pre></div>
</div>
<p>Here I can see that I had to clean up the code in area of reporting,
then store a GBP to USD conversion rate, add in a function to do the
actual conversion and then change report RW23 to be ordered differently.</p>
<p>I would further expect these commit messages to reference <cite>2014.32.16</cite>
such as</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fixes</span><span class="p">:</span> <span class="mf">2014.32</span><span class="o">.</span><span class="mi">16</span>
<span class="n">rel</span><span class="p">:</span> <span class="mf">2014.32</span><span class="o">.</span><span class="mi">16</span>
<span class="n">rel</span><span class="p">:</span> <span class="mf">2014.32</span><span class="o">.</span><span class="mi">16</span>
<span class="n">rel</span><span class="p">:</span> <span class="mf">2014.32</span><span class="o">.</span><span class="mi">16</span>
</pre></div>
</div>
</div>
<div class="section" id="preferred-workflow">
<h3>Preferred workflow<a class="headerlink" href="#preferred-workflow" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Integration Manager (or pull-requests)</li>
</ul>
</div>
<div class="section" id="breaking-changes-into-different-commits">
<h3>Breaking Changes into different commits<a class="headerlink" href="#breaking-changes-into-different-commits" title="Permalink to this headline">¶</a></h3>
<p>The ideal is to use <cite>git add -p</cite>.  This should be done once or twice
by everyone.  Then stop being a masochist and use <cite>git gui</cite> which allows
you to choose line by line which parts go into the next commit and which
wait.</p>
<p>Very very useful.  There are many other tools for doing this but git gui is fone.</p>
<p>(Just be aware to always pick the right <cite>-</cite> and <cite>+</cite> changes in one go.  Unless
you know what you are doing)</p>
</div>
<div class="section" id="git-is-not-a-backup">
<h3>Git is not a backup<a class="headerlink" href="#git-is-not-a-backup" title="Permalink to this headline">¶</a></h3>
<p>I am guilty of this almost constantly.</p>
<p>I am weening myself off this habit by backing up all my development dirs
via tarsnap.</p>
<p>(Actually I may have to stop this to overcome EU data protection laws, and rsync
to a Dutch backup location)</p>
</div>
<div class="section" id="biblio">
<h3>Biblio<a class="headerlink" href="#biblio" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html</a>
<a class="reference external" href="https://docs.google.com/a/mikadosoftware.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit">https://docs.google.com/a/mikadosoftware.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit</a>
<a class="reference external" href="http://www.mediawiki.org/wiki/Gerrit/Commit_message_guidelines">http://www.mediawiki.org/wiki/Gerrit/Commit_message_guidelines</a>
<a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages">https://wiki.openstack.org/wiki/GitCommitMessages</a>
<a class="reference external" href="https://www.kernel.org/doc/Documentation/SubmittingPatches">https://www.kernel.org/doc/Documentation/SubmittingPatches</a></p>
<p>Other projects:</p>
<ul class="simple">
<li>time tracking based on git commits.</li>
<li></li>
</ul>
</div>
</div>
</div>
<div class="section" id="id1">
<h1>source control<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Craft each commit message as a problem: xx solution: xx
<a class="reference external" href="https://github.com/PumpkinDB/PumpkinDB/commits/masterNo">https://github.com/PumpkinDB/PumpkinDB/commits/masterNo</a> one&#8217;s perfect with this stuff.
If you don&#8217;t believe me, clone git itself ($ git clone <a class="reference external" href="https://github.com/git/git">https://github.com/git/git</a>) and open up the repo in tig(1)
<a class="reference external" href="https://github.com/jonas/tig">https://github.com/jonas/tig</a>
To be honest, I only in the past 2 years even bothered to view ($ git log &#8211;graph). Regardless of &#8211;graph getting wide now and then, I always visualize my git history as a straight line.
Also, sometimes having a non-linear history is inevitable. Especially in large open source projects where you&#8217;re pulling in patches to a branch, and patches on top of that. You&#8217;re not always going to be merging a branch with a single author straight onto master.
Despite posts like this (<a class="reference external" href="http://www.bitsnbites.eu/a-tidy-linear-git-history/">http://www.bitsnbites.eu/a-tidy-linear-git-history/</a>) encouraging good git hygiene, I&#8217;ve had multiple open source projects merge in code via GitHub and never had negative consequence for it :P
Maybe there are corner cases where git bisect wouldn&#8217;t work? Though I never used git bisect even once. Most I do is scroll through tig and view diffs. Also used to play with a cool git plugin in vim (<a class="reference external" href="https://github.com/tpope/vim-fugitive">https://github.com/tpope/vim-fugitive</a>).
Also, GitHub has (since that linear git history post) introduced Rebase + Merge <a class="reference external" href="https://github.com/blog/2243-rebase-and-merge-pull-requests">https://github.com/blog/2243-rebase-and-merge-pull-requests</a>. I think that&#8217;ll get you what you want.
I do keep branches (&#8220;pull requests&#8221; if you&#8217;re using GH lingo) up to date with ($ git pull &#8211;rebase). That does mean a force push ($ git push &#8211;force), but it&#8217;s ok if it&#8217;s your personal branch. I also use interactive mode ($ git rebase -i &lt;sha&gt;) to edit/blend multiple commits.
Also, when I do merge, if I go through CLI, I&#8217;ll preserve the history of the branch by not doing fast forwards ($ git merge &lt;branch&gt; &#8211;no-ff).</p>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Paul Brian.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>