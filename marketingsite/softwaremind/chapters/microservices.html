

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Architectural overview &#8212; TheDevManual 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/devmanual.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="TheDevManual 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="&lt;no title&gt;" href="architectural_overview.html" />
    <link rel="prev" title="Documenting Your project with Sphinx" href="sphinx.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="architectural-overview">
<h1>Architectural overview<a class="headerlink" href="#architectural-overview" title="Permalink to this headline">¶</a></h1>
<p>The architecture of a micro-services based eco-system is realtively simple, but
I shall introduce each stage or component one step at a time.</p>
<p>We will start with just running a simple Python web app on its own (a few lines
of code at best) and move to a eco-system that includes enterprise level metric
reporting, Google-level best practises in SRE (sysadmin&#8217;y term) and more.</p>
<p>The goal is to go from &#8220;I have written my fantastic app&#8221; to &#8220;I am confident I
can run this without making glaring huge holes.&#8221;</p>
<p>This is not a process to make you experienced, talented or skilled.  THis is ...
well, there is a phrase &#8220;Its easier to avoid stupidity than achieve brilliance.&#8221;
Its true. Avoiding looking stupid is mostly a question of knowing the layout of
the landscape, taking care to avoid obivous mistakes and moving slowly (as in
slow programmer).</p>
<p>The essential point to remember in software engineering is that software is like
wearing seven-league boots.  As Terry Pratchett said, When wearing boots capable
of putting one foot 21 miles in front of the other, its vitally important to
step carefully.</p>
<p>The take away for me is simple - if you are going to take a giant step, take it
carefully with lots of tests and thinking. If you are not taking a giant step,
why not. You have seven league boots for heavens sake.</p>
<p>You can win by baby steps, if you are wearing seven league boots.</p>
<p>We are going to build a fully functional micro-services architecture <em>and</em>
the attendant engineering processes, team, support systems. A complete eco-system
for software enginerring and services.</p>
<p>And we are going to keep it simple.</p>
<p>Why? Because its the only way to understand the decisions at each step.</p>
<ul class="simple">
<li>source control, repos and searching all repos</li>
<li>builds</li>
<li>deployments</li>
<li>testing - all 3 kinds, all 3 passing.</li>
<li>features vs simplicity - PEPs, discussion, goals and PM vs RM</li>
<li>risk management and project management</li>
<li>ownership, not looking foolish. Avoid the contractor curse. Its not the olympics. There is no race. Its farming, or mining.</li>
<li>docs and marketing</li>
<li>reviews and code ownership. Teams are more effective than rockstars</li>
<li>Analysis, no blame - code analysis, production analysis, business analysis</li>
<li>tie in other business systems like accounts</li>
</ul>
<div class="section" id="host-architecture">
<h2>Host architecture<a class="headerlink" href="#host-architecture" title="Permalink to this headline">¶</a></h2>
<p>Swardley maps may be useful here</p>
<blockquote>
<div></div></blockquote>
<p>EcoSystem services
- logging
- TLS, auth
- metric gathering</p>
<p>App depednancies
- DBase?</p>
<p>App
.deb files</p>
<div class="section" id="common-architectural-choices">
<h3>Common Architectural choices<a class="headerlink" href="#common-architectural-choices" title="Permalink to this headline">¶</a></h3>
<p>Discuss and review common architectural choices</p>
<ul class="simple">
<li>cacheing</li>
<li>containerisation</li>
<li>REST API</li>
</ul>
<p><a class="reference external" href="https://www.microservices.com/talks/dont-build-a-distributed-monolith/">https://www.microservices.com/talks/dont-build-a-distributed-monolith/</a></p>
<p>Use public apsi, based on protocols</p>
<p>Because if you just write one client code to work with one server code slowly they drift together / and worse you just end up sending round the depenancies of that client, installing those 50 libraries everywhere (npm)</p>
<p>That means if you want to install a breaking version of client suddenly you have to install the 50 new libraries in hundreds of places - you have built a distributed monolith</p>
<p>Hunting
<a class="reference external" href="https://www.usenix.org/conference/enigma2016/conference-program/presentation/payne">https://www.usenix.org/conference/enigma2016/conference-program/presentation/payne</a>
Talk online</p>
<p><a class="reference external" href="https://www.google.co.uk/amp/www.techrepublic.com/google-amp/article/how-to-establish-strong-microservice-security-using-ssl-tls-and-api-gateways/">https://www.google.co.uk/amp/www.techrepublic.com/google-amp/article/how-to-establish-strong-microservice-security-using-ssl-tls-and-api-gateways/</a></p>
<p>Obvious but checklist</p>
<p>Basics
TLS pki, using short lived certs internally
Longer pki for external contacts
Maybe use oauth for consumers</p>
<p>Service mesh
<a class="reference external" href="https://eng.lyft.com/announcing-envoy-c-l7-proxy-and-communication-bus-92520b6c8191">https://eng.lyft.com/announcing-envoy-c-l7-proxy-and-communication-bus-92520b6c8191</a></p>
<p>This evolved into istio now wider supported</p>
<p>An on host network proxy that could transparently just pass through network traffic OR can apply policy on say service discovery, load balancing, circuit breaking, rate limiting etc - a balance between not knowing which network portion the hosts will be on so not being able to use traditional routers, and well this is part of software defined networks but at the application layer</p>
<p>Software defined networks push packets around, thisnoperates on requests???</p>
<p>Basic security and architecture</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/549/the-definitive-guide-to-form-based-website-authentication">https://stackoverflow.com/questions/549/the-definitive-guide-to-form-based-website-authentication</a></p>
<p>The basal architecture:</p>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Paul Brian.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>